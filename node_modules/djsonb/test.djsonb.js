const djsonb = require('./index.js');
const db = djsonb.connect()

async function test() {
	try {
		const test = await db.create({"name": "test", "age":100})
		console.log('OK', 'db.creating!')
	} catch (err) {
		console.log('Error', 'db.creating! Test Error!');
	}

	try {
		const user = await db.create({"name": "test", "age":100})
		const test = await db.findById(user._id)
		console.log('OK', 'db.findById!')
	} catch (err) {
		console.log('Error', 'db.findById! Test Error!');
	}

	try {
		const user = await db.create({"name": "test", "age":100})
		const test = await db.delete(user._id)
		console.log('OK', 'db.delete!')
	} catch (err) {
		console.log('Error', 'db.delete! Test Error!');
	}

	try {
		const user = await db.create({"name": "test", "age":100})
		const test = await db.findById(user._id)
		test.name = "test2"
		await db.update(test)
		console.log('OK', 'db.update!')
	} catch (err) {
		console.log('Error', 'db.update Test Error!');
	}

	try {
		await db.reset()
		console.log('OK', 'db.reset!')
	} catch (err) {
		console.log('Error', 'db.reset Test Error!');
	}
}

test();



