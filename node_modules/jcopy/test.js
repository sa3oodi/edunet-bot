// Import.
const CColor = require('ccolor');
const jcopy = require('./app');

// Constants.
const TEST_PASSED_MESSAGE = 'PASSED';
const TEST_FAILED_MESSAGE = 'FAILED';
const TEST_FAILED_WITH_EXCEPTION = 'FAILED WITH EXCEPTION';
const OBJECT = { a: { b: { c: 100 } } };
const TESTS_RESULTS = [
  100,
  true,
  false
];

// Define tests.
const tests = [
  () => jcopy(OBJECT).a.b.c,
  () => OBJECT.a.b.c === jcopy(OBJECT).a.b.c,
  () => OBJECT === jcopy(OBJECT)
];

// Run tests.
console.log(CColor.yellow('Tests started...'));
for (let i = 0; i < tests.length; i++) {
  try {
    const isTestPassed = tests[i]() === TESTS_RESULTS[i];
    console.log(`Test ${i + 1}: ${isTestPassed ?
      CColor.green(TEST_PASSED_MESSAGE) : CColor.red(TEST_FAILED_MESSAGE)}.`);
  } catch (err) {
    console.log(`Test ${i + 1}: ${CColor.red(TEST_FAILED_WITH_EXCEPTION)}.`);
  }
}
console.log(CColor.yellow('Tests done.'));
